<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search - Open Plots</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="search-styles.css">
</head>

<body>
    <div data-include="/header.html"></div>

    <main>
        <section class="search-section">
            <input type="text" id="searchInput" placeholder="Search by property, flat, villa or location...">
            <button id="searchButton">Search</button>
            <button id="clearSearch">Reset</button>
        </section>

        <section class="tree-section">
            <h2>Property Tree View</h2>
            <div class="tree-container">
                <ul id="propertyTree">
                    <li>
                        <span class="tree-node">Hyderabad</span>
                        <ul>
                            <li>
                                <span class="tree-node">Plots-Hyderabad</span>
                                <ul>
                                    <span class="tree-node">Shadnagar-Hyderabad</span>
                                    <ul>
                                        <li><a href="/project-details/shadnagar.html/true-gold-hitek.html"
                                                class="tree-leaf">TRUE GOLD & HITEK PARK Plots-Shadnagar-Hyderabad</a>
                                        </li>
                                        <li><a href="/project-details/shadnagar.html/brundavanam.html"
                                                class="tree-leaf">BRUNDAVANAM Plots Shadnagar-Hyderabad</a>
                                        </li>
                                        <li><a href="/project-details/shadnagar.html/RAMKY-BLISS.html"
                                                class="tree-leaf">RAMKY BLISS Plots-Shadnagar-Hyderabad</a>
                                        </li>
                                        <li><a href="/project-details/shadnagar.html/true-highlands.html"
                                                class="tree-leaf">TRUE HIGHLANDS PHASE-1 Plots Shadnagar-Hyderabad</a>
                                        </li>
                                        <li><a href="/project-details/shadnagar.html/terrain.html"
                                                class="tree-leaf">TERRAIN Plots-Shadnagar-Hyderabad</a>
                                        </li>
                                        <li><a href="/project-details/shadnagar.html/highway-orchards.html"
                                                class="tree-leaf">THE HIGHWAY ORCHARDS Plots Shadnagar-Hyderabad</a>
                                        </li>
                                        <li><a href="/project-details/shadnagar.html/true-platinum.htmL"
                                                class="tree-leaf">TRUE PLATINUM BURGULA Plots-Shadnagar-Hyderabad</a>
                                        </li>
                                        <li><a href="/project-details/shadnagar.html/southern-vista.html"
                                                class="tree-leaf">SOUTHERN VISTA Plots Shadnagar-Hyderabad</a>
                                        </li>
                                        <li><a href="/project-details/shadnagar.html/true-landmark.html"
                                                class="tree-leaf">TRUE LANDMARK 2 EXECUTIVE PHASE 1 & 2
                                                Plots-Shadnagar-Hyderabad</a>
                                        </li>
                                        <li><a href="/project-details/shadnagar.html/true-sapphire.html"
                                                class="tree-leaf">TRUE SAPPHIRE BURGULA Plots Shadnagar-Hyderabad</a>
                                        </li>
                                        <li><a href="/project-details/shadnagar.html/true-emerald-burgula.html"
                                                class="tree-leaf">TRUE EMERALD BURGULA Plots-Shadnagar-Hyderabad</a>
                                        </li>
                                        <li><a href="/project-details/shadnagar.html/true-double-diamond.html"
                                                class="tree-leaf">TRUE DOUBLE DIAMOND BURGULA BLOCK-A B & C Plots
                                                Shadnagar-Hyderabad</a>
                                        </li>
                                        <li><a href="/project-details/shadnagar.html/true-grande.html"
                                                class="tree-leaf">TRUE GRANDE Plots Shadnagar-Hyderabad</a>
                                        </li>
                                    </ul>
                                    <li>
                                        <span class="tree-node">Shabad-Hyderabad</span>
                                        <ul>
                                            <li><a href="/project-details/hyderabad/SHABAD/VIAN-VALLEY34.html"
                                                    class="tree-leaf">VIAN VALLEY Phase 3 & 4 Plots
                                                    Shabad-Hyderabad</a>
                                            </li>
                                            <li><a href="/project-details/hyderabad/SHABAD/vian-valley-phase1-2-jubilee.html"
                                                    class="tree-leaf">VIAN VALLEY Phase 1 and Phase 2 and VIAN
                                                    BBG'S JUBILEE CENTRAL Plots Shabad-Hyderabad</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>
                                        <span class="tree-node">Sadashivpet-Hyderabad</span>
                                        <ul>
                                            <li><a href="/project-details/hyderabad/sadashivpet/truefortune.html"
                                                    class="tree-leaf">TRUE FORTUNE PRIDE Plots
                                                    Sadashivpet-Hyderabad</a>
                                            </li>
                                            <li><a href="/project-details/hyderabad/sadashivpet/Ikonia.html"
                                                    class="tree-leaf">TRUE IKONIA PHASE-1 & COMMERCIAL Plots
                                                    Sadashivpet-Hyderabad</a>
                                            </li>
                                            <li><a href="/project-details/hyderabad/sadashivpet/Executive.html"
                                                    class="tree-leaf">TRUE FORTUNE EXECUTIVE Plots
                                                    Sadashivpet-Hyderabad</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><span class="tree-node">Yadagirigutta-Hyderabad</span>
                                        <ul>
                                            <li><a href="/project-details/hyderabad/YADAGIRIGUTTA/AKSHITHA.html"
                                                    class="tree-leaf">AKSHITHA Plots Yadagirigutta-Hyderabad</a>
                                            </li>
                                            <li><a href="/project-details/hyderabad/YADAGIRIGUTTA/true-prestige.html"
                                                    class="tree-leaf">TRUE PRESTIGE COMMERCIAL Plots
                                                    Yadagirigutta-Hyderabad</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><span class="tree-node">Suryapet-Hyderabad</span>
                                        <ul>
                                            <li><a href="/projects/hydrabad/suryapet.html" class="tree-leaf">Suryapet
                                                    Plots -Hyderabad</a>
                                            </li>
                                        </ul>
                                    <li><span class="tree-node">Aleru-Hyderabad</span>
                                        <ul>
                                            <li><a href="/project-details/hyderabad/ALERU/MEADOWS.html"
                                                    class="tree-leaf">ROYAL HIWAY MEADOWS Plots Aleru-Hyderabad</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li> <span class="tree-node">Chegunta-Hyderabad</span>
                                        <ul>
                                            <li><a href="/project-details/hyderabad/CHEGUNTA/green-meadows.html"
                                                    class="tree-leaf">GREEN MEADOWS Plots Chegunta -Hyderabad</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><span class="tree-node">Shameerpet-Hyderabad</span>
                                        <ul>
                                            <li><a href="/project-details/hyderabad/SHAMEERPET/urban-meadows.html"
                                                    class="tree-leaf">URBAN MEADOWS Plots Shameerpet-Hyderabad</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li><span class="tree-node">Maheshwaram-Hyderabad</span>
                                        <ul>
                                            <li><a href="/project-details/hyderabad/MAHESHWARAM/swiss-county.html"
                                                    class="tree-leaf">swiss county Plots Maheshwaram-Hyderabad</a>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>

                        </ul>
                    </li>
                    <li>
                        <span class="tree-node">Vijayawada</span>
                        <ul>
                            <li>
                                <span class="tree-node">Amaravati-Vijayawada</span>
                                <ul>
                                    <li><a href="/project-details/amravati/sunrise-city.html" class="tree-leaf">Sunrise
                                            City Plots
                                            Amaravati-Vijayawada</a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <span class="tree-node">Penamaluru-Vijayawada</span>
                                <ul>
                                    <li><a href="/project-details/VIJAYAWADA/penamaluru/fortune-brindavanam/fortune-brindavanam.html"
                                            class="tree-leaf">Fortune Brindavanam Plots Penamaluru-Vijayawada</a></li>
                                    <li><a href="/project-details/VIJAYAWADA/penamaluru/fortune-home-town.html"
                                            class="tree-leaf">Fortune Home Town Plots Penamaluru-Vijayawada</a></li>
                                </ul>
                            </li>
                            <li>
                                <span class="tree-node">Vuyyuru Greens-Vijayawada</span>
                                <ul>
                                    <li><a href="/project-details/VIJAYAWADA/VUYYURU/thotlavallur.HTML"
                                            class="tree-leaf">NLP Open Plots Vuyyuru Greens-Vijayawada</a></li>
                                    <li><a href="/project-details/VIJAYAWADA/VUYYURU/skylark.HTML"
                                            class="tree-leaf">Skylark Plots Vuyyuru Greens-Vijayawada</a></li>
                                    <li><a href="/project-details/VIJAYAWADA/VUYYURU/green-vistaraa.html"
                                            class="tree-leaf">Green Vistaara Vuyyuru Greens-Vijayawada</a></li>
                                </ul>
                            </li>
                            <li>
                                <span class="tree-node">Machilipatnam-Vijayawada</span>
                                <ul>
                                    <li><a href="/project-details/VIJAYAWADA/MACHILIPATNAM/fortuneprimetown.html"
                                            class="tree-leaf">Fortune Prime Town Plots Machilipatnam-Vijayawada</a></li>
                                </ul>
                            </li>
                            <li>
                                <span class="tree-node">Gannavaram-Vijayawada</span>
                                <ul>
                                    <li><a href="/project-details/VIJAYAWADA/GANNAVARAM/GANNAVARAM-plots.html"
                                            class="tree-leaf">Open plots in Gannavaram -Vijayawada</a></li>
                                </ul>
                            </li>
                            <li>
                                <span class="tree-node">Kanchikacherla-Vijayawada</span>
                                <ul>
                                    <li><a href="/project-details/VIJAYAWADA/KANCHIKACHERLA/inspireheavens.html"
                                            class="tree-leaf">Inspire Heavens plots Kanchikacherla -Vijayawada</a></li>
                                    <li><a href="/project-details/VIJAYAWADA/KANCHIKACHERLA/dreamtree.html"
                                            class="tree-leaf">Dream Tree plots Kanchikacherla -Vijayawada</a></li>
                                    <li><a href="/project-details/VIJAYAWADA/KANCHIKACHERLA/land.html"
                                            class="tree-leaf">1 Acre Premium Land plots Kanchikacherla -Vijayawada</a>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <span class="tree-node">Kankipadu-Vijayawada</span>
                                <ul>
                                    <li><a href="/project-details/VIJAYAWADA/KANKIPADU/fortune-empire.html"
                                            class="tree-leaf">Fortune Empire City plots Kankipadu -Vijayawada</a></li>
                                </ul>
                            </li>
                            <li>
                                <span class="tree-node">Pamarru-Vijayawada</span>
                                <ul>
                                    <li><a href="/project-details/VIJAYAWADA/KANKIPADU/fortune-empire.html"
                                            class="tree-leaf">Fortune Royal City plots Pamarru-Vijayawada</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <span class="tree-node">Visakhapatnam</span>
                        <ul>
                            <li>
                                <span class="tree-node">Bhogapuram-Visakhapatnam</span>
                                <ul>
                                    <li><a href="/project-details/VISAKHAPATNAM/BHOGAPURAM/aero-square.html"
                                            class="tree-leaf">AERO SQUARE plots Bhogapuram-Visakhapatnam</a></li>
                                    <li><a href="/project-details/VISAKHAPATNAM/BHOGAPURAM/aero-city.html"
                                            class="tree-leaf">AERO CITY plots Bhogapuram-Visakhapatnam</a></li>
                                    <li><a href="/project-details/VISAKHAPATNAM/BHOGAPURAM/aero-harmony.html"
                                            class="tree-leaf">AERO HARMONY RIVER SIDE-1 plots
                                            Bhogapuram-Visakhapatnam</a></li>
                                    <li><a href="/project-details/VISAKHAPATNAM/BHOGAPURAM/aero-hub.html"
                                            class="tree-leaf">AERO HUB PHASE -1 plots Bhogapuram-Visakhapatnam</a></li>
                                    <li><a href="/project-details/VISAKHAPATNAM/BHOGAPURAM/kohinoor-gateway.html"
                                            class="tree-leaf">KOHINOOR GATEWAY, GATEWAY EXECUTIVE & GATEWAY COMMERCIAL
                                            plots Bhogapuram-Visakhapatnam</a></li>
                                </ul>
                            </li>
                            <li>
                                <span class="tree-node">Anandapuram-Visakhapatnam</span>
                                <ul>
                                    <li><a href="/project-details/VISAKHAPATNAM/ANANDAPURAM/true-capital.html"
                                            class="tree-leaf">TRUE CAPITAL plots Anandapuram-Visakhapatnam</a></li>
                                </ul>
                            </li>
                            <li>
                                <span class="tree-node">Achutapuram-Visakhapatnam</span>
                                <ul>
                                    <li><a href="/project-details/VISAKHAPATNAM/ACHUTAPURAM/kohinoor-prime.html"
                                            class="tree-leaf">KOHINOOR PRIME plots Anandapuram-Visakhapatnam</a></li>
                                    <li><a href="/project-details/VISAKHAPATNAM/ACHUTAPURAM/true-prime-commercial.HTML"
                                            class="tree-leaf">TRUE PRIME COMMERCIAL plots Anandapuram-Visakhapatnam</a>
                                    </li>
                                    <li><a href="/project-details/VISAKHAPATNAM/ACHUTAPURAM/kohinoor-prime1.HTML"
                                            class="tree-leaf">KOHINOOR PRIME 1 plots Anandapuram-Visakhapatnam</a></li>
                                </ul>
                            </li>
                            <li>
                                <span class="tree-node">Kothavalasa-Visakhapatnam</span>
                                <ul>
                                    <li><a href="/projects/visakhapatnam/kothavalasa.html" class="tree-leaf">Kothavalasa
                                            plots Kothavalasa-Visakhapatnam</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <span class="tree-node">Srikakulam</span>
                        <ul>
                            <li>
                                <span class="tree-node">Srikakulam</span>
                                <ul>
                                    <li><a href="/projects/srikakulam.html" class="tree-leaf"> plots in Srikakulam</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <span class="tree-node">Rajahmundry</span>
                        <ul>
                            <li>
                                <span class="tree-node">Diwancheruvu-Rajahmundry</span>
                                <ul>
                                    <li><a href="/project-details/Rajahmundry/Diwancheruvu.html" class="tree-leaf">
                                            plots in
                                            Diwancheruvu-Rajahmundry</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <span class="tree-node">Nellore</span>
                        <ul>
                            <li><a href="/project-details/nellore/kohinoor-central.html" class="tree-leaf">
                                    KOHINOOR CENTRAL Plots Nellore</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <span class="tree-node">Ongole</span>
                        <ul>
                            <li><a href="/projects/ongole.html" class="tree-leaf">
                                    Ongole Open Plot</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <span class="tree-node">Khammam</span>
                        <ul>
                            <li><a href="/project-details/khammam/sricity.html" class="tree-leaf">
                                    Sricity East Bloom and East Side Plots-Khammam</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <span class="tree-node">Suryapet</span>
                        <ul>
                            <li><a href="/projects/Suryapet.html" class="tree-leaf">
                                    Suryapet Plots</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <span class="tree-node">Luxury Villas</span>
                        <ul>
                            <li>
                                <span class="tree-node">Vijayawada-Luxury Villas</span>
                                <ul>
                                    <li><a href="/project-details/VILLAS-VIJAYAWADA/modern-villas.html"
                                            class="tree-leaf">
                                            Modern villas in Luxury Villas- Vijayawada</a>
                                    </li>
                                    <li><a href="/project-details/VILLAS-VIJAYAWADA/high-end-villas.html"
                                            class="tree-leaf">
                                            High-end villas Vijayawada</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <span class="tree-node">Luxury Apartments</span>
                        <ul>
                            <li>
                                <span class="tree-node">Luxury Apartment Flats in Hyderabad</span>
                                <ul>
                                    <li>
                                        <span class="tree-node">Erragadda Residences Luxury Apartment Flats -
                                            Hyderabad</span>
                                        <ul>
                                            <li><a href="/project-details/flats-hyderabad/erragadda/Erragadda-flats.html"
                                                    class="tree-leaf">
                                                    LUXURY APARTMENTS flats IN ERRAGADDA-Hyderabad</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>
                                        <span class="tree-node">Luxury Apartment Flats in Puppalaguda -
                                            Nanakramguda-Hyderabad</span>
                                        <ul>
                                            <li><a href="/project-details/flats-hyderabad/puppalaguda/vue-residences.html"
                                                    class="tree-leaf">
                                                    The Vue Residences LUXURY APARTMENTS flats IN Puppalaguda -
                                                    Nanakramguda-Hyderabad</a>
                                            </li>
                                        </ul>
                                    </li>
                                    <li>
                                        <span class="tree-node">Luxury Apartment Flats in Osman Nagar,
                                            Tellapur-Hyderabad</span>
                                        <ul>
                                            <li><a href="/project-details/flats-hyderabad/TELLAPUR/tellapur-apartments.html"
                                                    class="tree-leaf">
                                                    The Osman Nagar Residences LUXURY APARTMENTS flats IN Osman Nagar,
                                                    Tellapur-Hyderabad</a>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </section>
    </main>

    <div data-include="/footer.html"></div>
    <script src="/include.js"></script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const searchInput = document.getElementById("searchInput");
            const searchButton = document.getElementById("searchButton");
            const clearSearch = document.getElementById("clearSearch");
            const tree = document.getElementById("propertyTree");

            // Initialize tree - collapse all nodes by default
            function initTree() {
                document.querySelectorAll('.tree-node').forEach(node => {
                    const childUl = node.parentElement.querySelector('ul');
                    if (childUl) {
                        childUl.style.display = 'none';
                        node.classList.add('collapsed');

                        // Add click event to toggle nodes
                        node.addEventListener('click', function (e) {
                            e.stopPropagation();
                            toggleNode(this);
                        });
                    }
                });
            }

            function toggleNode(node) {
                const childUl = node.parentElement.querySelector('ul');
                if (childUl) {
                    const isVisible = childUl.style.display !== 'none';
                    childUl.style.display = isVisible ? 'none' : 'block';
                    node.classList.toggle('collapsed', isVisible);
                    node.classList.toggle('expanded', !isVisible);
                }
            }

            // Expand all parent nodes up to root
            function expandParents(el) {
                let parent = el.parentElement;
                while (parent && parent.id !== 'propertyTree') {
                    if (parent.tagName === 'UL') {
                        parent.style.display = 'block';
                        const prev = parent.previousElementSibling;
                        if (prev && prev.classList.contains('tree-node')) {
                            prev.classList.remove('collapsed');
                            prev.classList.add('expanded');
                        }
                    }
                    parent = parent.parentElement;
                }
            }

            // Highlight multiple search terms
            function highlightText(el, searchTerms) {
                let text = el.textContent;
                searchTerms.forEach(term => {
                    if (term.trim() === '') return;
                    const escaped = term.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
                    const regex = new RegExp(`(${escaped})`, 'gi');
                    text = text.replace(regex, '<span class="highlight">$1</span>');
                });
                el.innerHTML = text;
            }

            // Perform search
            function performSearch() {
                const query = searchInput.value.trim().toLowerCase();
                if (query === '') {
                    return;
                }

                // Split search query into individual words
                const searchTerms = query.split(/\s+/);

                const allItems = tree.querySelectorAll('.tree-node, .tree-leaf');
                let hasMatches = false;

                // First hide all items
                allItems.forEach(item => {
                    item.style.display = 'none';
                });

                // Show matching items and their parents
                allItems.forEach(item => {
                    const text = item.textContent.toLowerCase();
                    // Check if all search terms are present
                    const allTermsMatch = searchTerms.every(term =>
                        term.trim() !== '' && text.includes(term)
                    );

                    if (allTermsMatch) {
                        item.style.display = '';
                        highlightText(item, searchTerms);
                        expandParents(item);
                        hasMatches = true;
                    }
                });

                if (!hasMatches) {
                    alert('No matching properties found.');
                }
            }

            // Search button click
            searchButton.addEventListener('click', performSearch);

            // Search on Enter key
            searchInput.addEventListener('keypress', function (e) {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });

            // Clear button - redirect to search page
            clearSearch.addEventListener('click', function () {
                window.location.href = '/PROPERTY-SEARCH-OPTION/SEARCH.html';
            });

            // Initialize tree on load
            initTree();
        });
    </script>
</body>

</html>